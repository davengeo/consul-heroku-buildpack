#!/bin/bash

indent() {
  sed -u 's/^/       /'
}

consul_url="https://releases.hashicorp.com/consul/0.8.3"
consul_package_version="consul_0.8.3_linux_amd64.zip"
consul_download_url="$consul_url/$consul_package_version"

echo "-----> Downloading consul binary package from $consul_download_url"

curl -L --silent $consul_download_url > $1/bin/$consul_package_version
cd $1/bin && unzip $consul_package_version && rm $consul_package_version

echo "Consul installation complete" | indent
